23种设计模式 Design Pattren
Gof 23

设计模式基本要素：
模式名称
问题
解决方案
效果

所谓设计模式，就是一套被反复使用的代码设计经验的总结（情境中一个问题经过证实的一个解决方案）
使用设计模式是为了可重用代码、让代码更容易被他人理解、保证代码可靠性

设计模式分为三大类：
* 创建型模式：工厂方法模式(Factory Method)、抽象工厂模式(Abstract Factory)、单例模式(Singleton)、建造者模式(Builder)、原型模式(Prototype)（5种）
* 结构型模式：适配器模式(Adapter)、装饰者模式(Decorator)、代理模式(Proxy)、外观模式、桥梁模式(Bridge)、组合模式、享元模式。（7种）
* 行为型模式：策略模式、模板方法模式(Template Method)、观察者模式、迭代子模式、责任链模式(Chain Of Responsibility)、命令模式(Command)、备忘录模式、状态模式、访问者模式、中介者模式、解释器模式。（11种）



创建型模式（5）单例模式、工厂方法模式、抽象工厂模式、建造者模式、原型模式
结构性模式（7）代理模式、适配器模式
行为性模式（11）责任链模式、模板方法模式

创建型[对类的实例化过程的抽象化]、
结构型[描述如何将类或对象结合在一起形成更大的结构]、
行为型[对在不同的对象之间划分责任和算法的抽象化]


用到了那些设计模式？用在什么场合？
1)工厂模式：工厂类可以根据条件生成不同的子类实例，这些子类有一个公共的抽象父类并且实现了相同的方法，
    但是这些方法针对不同的数据进行了不同的操作（多态方法）。
    当得到子类的实例后，开发人员可以调用基类中的方法而不必考虑到底返回的是哪一个子类的实例。
2)代理模式：给一个对象提供一个代理对象，并由代理对象控制原对象的引用。
    实际开发中，按照使用目的的不同，代理可以分为：远程代理、虚拟代理、保护代理、Cache 代理、
    防火墙代理、同步化代理、智能引用代理。
3)适配器模式：把一个类的接口变换成客户端所期待的另一种接口，
    从而使原本因接口不匹配而无法在一起使用的类能够一起工作。
4)模板方法模式：提供一个抽象类，将部分逻辑以具体方法或构造器的形式实现，
    然后声明一些抽象方法来迫使子类实现剩余的逻辑。
     不同的子类可以以不同的方式实现这些抽象方法（多态实现），从而实现不同的业务逻辑。
（Collections 工具类里面的 synchronizedXXX 方法把一个线程不安全的容器变成线程安全容器就是对装潢模式的应用，
而 Java IO 里面的过滤流（有的翻译成处理流）也是应用装潢模式的经典例子）

OOP（面向对象）七大原则：
开闭原则：对扩展开放，对修改关闭
里氏替换原则：不要破坏继承关系。子类可以扩展父类功能，不能改变父类原有功能，正方形不是长方形
依赖倒置原则：面向接口编程
单一职责原则：每一个一个方法尽可能只干一件事，降低耦合，封装
接口隔离原则：接口拆分成更小的接口，专用接口，降低耦合，封装
迪米特法则：只和朋友交谈，不跟陌生人说话，ABC，AB，BC相互沟通，AC不要沟通，不要建立通信
合成复用原则：继承和组合，尽量先使用组合或者聚合的关联关系实现，其次才考虑继承关系来实现

单例模式
工厂模式：创建者和调用者分离
简单工厂模式
工厂方法模式
抽象工厂模式
OOP七大原则：
开闭原则、依赖倒置原则、迪米特法则
核心：
实例化对象不适应new，用工厂方法代替
将选择实现类，创建对象统一管理和控制，从而将调用者跟实现类解耦


单例模式（7种实现方式），工厂模式，模板方法设计模式，策略模式(Strategy)，装饰者模式(Decorator)、代理模式这几种怎么写
Singleton 模式主要作用是保证在 Java 应用程序中，一个类 Class 只有一个实例存在。
写出几种单例模式实现，懒汉模式和饿汉模式区别
7种：
* 第一种（懒汉，线程不安全）
* 第二种（懒汉，线程安全）
* 第三种（饿汉）
* 第四种（饿汉，变种）
* 第五种（静态内部类）
* 第六种（枚举）：
* 第七种（双重校验锁）
DCL 双重检测锁机制 应用于单例模式

应用场景
单例：全局唯一类，系统配置类；系统硬件资源访问类；数据库连接池；web计数器；序列化生成器；
工厂方法：对象的创建比较复杂，需要组合其他类对象
代理：非功能性需求，监控、鉴权、限流、事务、幂等、日志；附加功能和业务功能结构，由代理类统一处理
责任链：

9种设计模式在Spring中的运用，一定要非常熟练
1、简单工厂(非23种设计模式中的一种)
BeanFactory。Spring中的BeanFactory就是简单工厂模式的体现，
    根据传入一个唯一的标识来获得Bean对象，但是否是在传入参数后创建还是传入参数前创建这个要根据具体情况来定。
由一个工厂类根据传入的参数，动态决定应该创建哪一个产品类
2、工厂方法
FactoryBean接口。
3、单例模式
Spring依赖注入Bean实例默认是单例的
4、适配器模式
SpringMVC中的适配器HandlerAdatper。
5、装饰器模式
Spring中用到的包装器模式在类名上有两种表现：
    一种是类名中含有Wrapper，另一种是类名中含有Decorator。
6、代理模式
    AOP底层
7、观察者模式
spring的事件驱动模型使用的是 观察者模式 ，
Spring中Observer模式常用的地方是listener的实现。
8、策略模式
Spring框架的资源访问Resource接口
9、模版方法模式
父类定义了骨架（调用哪些方法及顺序），某些特定方法由子类实现。